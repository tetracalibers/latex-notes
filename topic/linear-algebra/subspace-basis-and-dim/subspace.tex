\documentclass[../../../topic_linear-algebra]{subfiles}

\usepackage{xr-hyper}
\externaldocument{../../../.tex_intermediates/topic_linear-algebra}

\begin{document}

\sectionline
\section{線形部分空間}
\marginnote{\refbookA p93〜94、p99}

$m > n$の場合、$m \times n$型行列$A$は、写し先の空間をカバーしきれない写像を表していた。

つまり、写った結果が空間の一部、\keyword{部分空間}になるということである。

\br

そこで、$\mathbb{R}^n$の部分集合であって、ベクトル演算で閉じた集合について考える。
これは、原点を含む直線や平面などを一般化した概念である。

\begin{definition*}{線形部分空間}
  $\mathbb{R}^n$のベクトルからなる空集合でない集合$V$は、次が成り立つとき\keyword{線形部分空間}あるいは簡単に\keyword{部分空間}であるという。
  \begin{enumerate}[label=\romanlabel]
    \item すべての$\vb*{u}, \vb*{v} \in V$に対して$\vb*{u} + \vb*{v} \in V$が成り立つ
    \item すべての$c \in \mathbb{R},\,\vb*{u} \in V$に対して$c \vb*{u} \in V$が成り立つ
  \end{enumerate}
\end{definition*}

入れものの空間$\mathbb{R}^n$のことはあまり意識せずに、集合$V$とそのベクトル演算に着目して、ある$\mathbb{R}^n$の線形部分空間のことを単に\keyword{線形空間}と呼ぶこともある。

\subsection{$\mathbb{R}^n$自身も部分空間}

たとえば、$\mathbb{R}^n$自身は明らかに$\mathbb{R}^n$の部分空間である。

\subsection{$n-1$次平面は部分空間}

たとえば$\mathbb{R}^3$において座標を$(x, y, z)$とするとき、$xy$平面は$\mathbb{R}^3$の部分空間である。

\begin{definition}{座標部分空間}{coordinate-subspace}
  $\{1, 2, \dots, n\}$の部分集合$I$に対して、$x_i \, (i \in I)$以外の座標がすべて0である部分集合は$\mathbb{R}^n$の部分集合である。

  このようなものを\keyword{座標部分空間}といい、$\mathbb{R}^I$と書く。
  \begin{equation*}
    \mathbb{R}^I = \langle \vb*{e}_i \mid i \in I \rangle
  \end{equation*}
  と表すこともできる。
\end{definition}

\subsection{零ベクトルだけからなる部分集合も部分空間}

零ベクトル$\vb*{o}$だけからなる部分集合$\{ \vb*{o} \}$も部分空間である。

\begin{theorem}{部分空間における零ベクトルの包含}{subspace-contains-zero}
  部分空間は必ず零ベクトル$\vb*{o}$を含む。
\end{theorem}

\begin{proof}
  $V$は空集合でないので、ある$\vb*{v} \in V$をとるとき、線形部分空間の定義(\romannum{ii})より
  \begin{equation*}
    0 \cdot \vb*{v} = \vb*{o} \in V
  \end{equation*}
  よって部分空間は必ず$\vb*{o}$を含む。 $\qed$
\end{proof}

\subsection{線形写像の像は部分空間}
\marginnote{\refbookC p82}

\begin{theorem*}{線形写像の像は部分空間}
  線形写像$f\colon V \to W$の像$\Im(f)$は$W$の部分空間である。
\end{theorem*}

\begin{proof}
  \begin{subpattern}{\bfseries 和について}
    $\vb*{u}, \vb*{v} \in \Im(f)$とすると、$\vb*{u} = f(\vb*{v}_1),\, \vb*{v} = f(\vb*{v}_2)$とおける。

    よって、$f$の線形性より、
    \begin{align*}
      \vb*{u} + \vb*{v} & = f(\vb*{v}_1) + f(\vb*{v}_2) \\
                        & = f(\vb*{v}_1 + \vb*{v}_2)
    \end{align*}
    となり、$\Im(f)$は和について閉じている。 $\qed$
  \end{subpattern}

  \begin{subpattern}{\bfseries スカラー倍について}
    $\vb*{u} \in \Im(f)$と$c \in \mathbb{R}$をとると、$\vb*{u} = f(\vb*{v})$とおける。

    よって、$f$の線形性より、
    \begin{align*}
      c \vb*{u} & = c f(\vb*{v}) \\
                & = f(c \vb*{v})
    \end{align*}
    となり、$\Im(f)$はスカラー倍について閉じている。 $\qed$
  \end{subpattern}
\end{proof}

\subsection{線形写像の核は部分空間}
\marginnote{\refbookC p71〜72}

\begin{theorem}{部分空間の零ベクトルと線形写像}{linear-map-zero-preserving}
  部分空間$V,\,W$の間の線形写像$f\colon V \to W$に対して、$V$の零ベクトルを$\vb*{o}_V$、$W$の零ベクトルを$\vb*{o}_W$とすると、
  \begin{equation*}
    f(\vb*{o}_V) = \vb*{o}_W
  \end{equation*}
\end{theorem}

\begin{proof}
  任意の$\vb*{v} \in V,\, \vb*{w} \in W$に対して、
  \begin{align*}
    0  \cdot \vb*{v} & = \vb*{o}_V \\
    0 \cdot \vb*{w}  & = \vb*{o}_W
  \end{align*}
  が成り立つ。

  \br

  $f(\vb*{o}_V)$は、$f$の線形性により、次のように変形できる。
  \begin{equation*}
    f(\vb*{o}_V) = f(0 \cdot \vb*{v}) = 0 \cdot f(\vb*{v})
  \end{equation*}

  ここで、$f(\vb*{v})$は、$f$による$\vb*{v} \in V$の像であるので、$W$に属する。

  そこで、$\vb*{w} = f(\vb*{v})$とおくと、
  \begin{align*}
    f(\vb*{o}_V) & = 0 \cdot f(\vb*{v}) \\
                 & = 0 \cdot \vb*{w}    \\
                 & = \vb*{o}_W
  \end{align*}
  となり、目標としていた式が示された。 $\qed$
\end{proof}

\marginnote{\refbookC p82}

\begin{theorem*}{線形写像の核は部分空間}
  線形写像$f\colon V \to W$の核$\Ker(f)$は$V$の部分空間である。
\end{theorem*}

\begin{proof}
  \thmref{thm:linear-map-zero-preserving}の主張$f(\vb*{o}_V) = \vb*{o}_W$より、零ベクトルは核空間に属する。
  \begin{equation*}
    \vb*{o} \in \Ker(f)
  \end{equation*}

  \begin{subpattern}{\bfseries 和について}
    $\vb*{u}, \vb*{v} \in \Ker(f)$とすると、$f(\vb*{u}) = \vb*{o}$かつ$f(\vb*{v}) = \vb*{o}$である。

    よって、$f$の線形性より、
    \begin{align*}
      f(\vb*{u} + \vb*{v}) & = f(\vb*{u}) + f(\vb*{v})     \\
                           & = \vb*{o} + \vb*{o} = \vb*{o}
    \end{align*}
    したがって、$\vb*{u} + \vb*{v} \in \Ker(f)$である。 $\qed$
  \end{subpattern}

  \begin{subpattern}{\bfseries スカラー倍について}
    $\vb*{u} \in \Ker(f)$と$c \in \mathbb{R}$をとると、$f(\vb*{u}) = \vb*{o}$である。

    よって、$f$の線形性より、
    \begin{align*}
      f(c \vb*{u}) & = c f(\vb*{u})              \\
                   & = c \cdot \vb*{o} = \vb*{o}
    \end{align*}
    したがって、$c \vb*{u} \in \Ker(f)$である。 $\qed$
  \end{subpattern}
\end{proof}

\end{document}
