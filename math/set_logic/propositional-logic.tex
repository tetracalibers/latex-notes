\documentclass[../../imaging-math]{subfiles}

\begin{document}

\section{命題と論理演算}

数学では「曖昧さ」を取り除いた議論が重要である。

ここでは、文章（表現）の曖昧さを取り除くために、文章の意味を記号化して扱おう、というアプローチを考えていく。

\subsection{命題：客観的視点に絞る}

数学では、多くの問いを立てて、それが正しいかどうかをひとつひとつ確かめていくことになる。

このとき、数学の議論の対象にできるのは、主観を含まない、「真偽を問うことができる」文章である。

\br

たとえば、「数学は面白い」という文章は、私たちにとっては事実かもしれないが、主観を含む（もはや個人的感想に近い）主張である。

このような、人によって回答が分かれるような文章について議論するのは、また別の学問領域に任せてしまおう。

\br

数学の議論の対象とできる文章は、「正しい」か「正しくない」かをはっきりと定められるもので、そのような文章は\keyword{命題}と呼ばれる。

\begin{definition}{命題}
  客観的に正しいか正しくないかが判断できる主張を\hl{命題}という。
\end{definition}

\subsection{記号化：解釈を一通りに絞る}

数学で扱う命題は、文章ではなく記号で表現されることも多い。
どのような記号をどんな意味で使うかを見ていく前に、そもそもなぜ記号化するのか、ということを考えておきたい。

\br

私たちが日常で使う言葉は、表現のパターンがあまりにも多い。英語に比べると、日本語は特にその傾向がある。

たとえば、次の3つの文章は、まったく同じことを主張しているものである。

\begin{enumerate}
  \item パンケーキは太る
  \item パンケーキを食べると太る
  \item パンケーキを食べたならば、体重が増える
\end{enumerate}

1つめの文章は、ネイティブの日本人の間では問題なく伝わるが、日本語に慣れていない人には伝わらない可能性がある。

実際にこのような日本語を聞いて、「パンケーキ＝太る」ってどういうこと…？となる外国人は多いらしい。
「パンケーキ」と「太る」が「＝」で結ばれているかのように見える時点で、問題がある。

\br

2つめの文章では、より意味が明確になった。この文章であれば、英語が苦手な私が英訳を試みたとしても、"Pancakes is fat."みたいな奇妙な英文を生み出さずに済むだろう。

\br

3つめの文章は、少し堅苦しく感じるかもしれない。しかし、これが最も数学らしい表現である。
「パンケーキを食べた」と「体重が増える」という2つの事象が「ならば」で結ばれていて、論理の構造がはっきりしている。

\froufrou

このように、何通りもの表現がある文章は、人によって解釈が異なる可能性がある。

客観的な主張であるはずの命題も、その表し方によって解釈の齟齬が生まれてしまうと、結局正しいか正しくないかが人によって異なる事態に陥ってしまうかもしれない。

\br

解釈を一通りにするには、表し方を統一してしまうのが手っ取り早い。
そのために、共通認識として定義された記号を使って文章を表現するのが、数学のアプローチなのである。

\br

ここからは、命題を記号化する具体的なルールを見ていくことにする。

\subsection{真偽値：正しさを値とみなす}

命題は、主張の内容によって「正しい」か「正しくない」かが決まる。

このとき、「正しい」ことを\keyword{真}と呼び、「正しくない」ことを\keyword{偽}と呼ぶ。

\begin{definition}{命題の真偽}
  \begin{itemize}
    \item 命題が正しいとき、その命題は\hl{真である}という。
    \item 命題が正しくないとき、その命題は\hl{偽である}という。
  \end{itemize}
\end{definition}

命題は必ず「真」か「偽」のどちらかに決定されるため、この「真」や「偽」を命題が持つ値として考えて、\keyword{真偽値}と呼ぶことがある。

さらに、コンピュータでの応用を見据えて、真偽値を0と1で表すことがある。

\begin{definition}{真偽値}
  \begin{itemize}
    \item 命題が真であるとき、その命題の真偽値は\hl{1}であるとする。
    \item 命題が偽であるとき、その命題の真偽値は\hl{0}であるとする。
  \end{itemize}
\end{definition}

\subsection{論理式：命題を記号化する}

命題が真偽値という値を持つという視点に立つと、その値を反転させたり、組み合わせたりといった操作を考えることができる。

この考え方は、小学校からお馴染みの数の演算に近いものだ。たとえば、足し算という演算は、1と2という値を組み合わせて、3という新たな値を作り出す操作といえる。

\br

ある命題から「新たな命題を作り出す操作」を表す記号を\keyword{論理演算子}といい、論理演算子のような記号の組み合わせによって命題を表現したものを、\keyword{論理式}という。

\subsection{命題の否定}

まずは、1つの命題を作り変える操作を考えてみよう。

\br

のび太くんの今回の算数テストの点数は0点だったとする。

このとき、のび太くんが「今回の算数テストは0点じゃなかった！」と主張しても、それは嘘である。

\br

0点だったという事実を$p$、0点じゃなかったという主張を$q$とおこう。

\begin{itemize}
  \item $p$ : のび太くんの算数テストの点数は0点である
  \item $q$ : のび太くんの算数テストの点数は0点ではない
\end{itemize}

このとき、$q$を$p$の\keyword{否定命題}と呼ぶ。

\br

$p$が真実で、$q$は嘘であるのだから、

\begin{emphabox}
  \begin{spacebox}
    \begin{center}
      否定命題になると真偽が入れ替わる
    \end{center}
  \end{spacebox}
\end{emphabox}

ということになる。

\begin{definition}{命題の否定}
  \titlegap
  命題$p$に対して、「$p$ではない」という命題を$p$の\hl{否定命題}といい、次のように表す。
  \LARGE
  \begin{equation*}
    \neg p
  \end{equation*}
\end{definition}

$\neg$は「not」を意味する記号で、命題の否定を表す論理演算子である。

\subsubsection{真理値表}

ここで、初めての論理演算子が登場した。

論理演算子によって新たな命題を作り出すとき、元の命題からの真偽値の変化を一覧化しておくとわかりやすい。
そのように真偽値を一覧化した表を、\keyword{真理値表}という。

\br

\begin{wrapstuff}[r,type=table,width=0.3\linewidth]
  \centering
  \caption*{\bfseries 否定の真理値表}
  \begin{NiceTabular}[hvlines]{W{c}{2em}W{c}{2em}}
    \CodeBefore
    \cellcolor{carnationpink!40}{2-1,3-2}
    \cellcolor{periwinkle!60}{2-2,3-1}
    \Body
    $p$ & $\neg p$ \\
    1   & 0        \\
    0   & 1        \\
  \end{NiceTabular}
\end{wrapstuff}

この「否定の真理値表」では、次の対応関係が示されている。

\begin{itemize}
  \item $p$の真偽値が1のとき、$\neg p$の真偽値は0である
  \item $p$の真偽値が0のとき、$\neg p$の真偽値は1である
\end{itemize}

真理値表を使うと、「否定命題になると真偽が入れ替わる」ことも瞬時に捉えられる。

\subsection{論理積と論理和：「かつ」と「または」}

2つの命題を組み合わせて、新たな命題を作り出す操作もある。

その代表例が\keyword{論理積}「かつ」と\keyword{論理和}「または」である。

\subsubsection{日常生活での感覚}

「かつ」と「または」という言葉は、日常生活でも意外と馴染みのあるものである。

命題としての厳密さを一旦忘れて、日常の感覚で考えてみよう。

\begin{enumerate}
  \item 晴れていて風も弱ければ散歩に行こう
  \item 紅茶かコーヒーをお選びください
\end{enumerate}

1つめの文章では、「晴れている」かつ「風が弱い」という条件を使っている。

「晴れている」と「風が弱い」という、2つの条件を両方満たすときにしか、散歩には行きたくないのである。

\br

2つめの文章では、「紅茶」または「コーヒー」という、2つの選択肢を提示している。

ところで、大抵の人は「紅茶」か「コーヒー」のどちらか片方だけを選ぶだろうが、数学者は両方を手に取ってしまうかもしれない。
というのも、「または」という言葉は、日常生活でのニュアンスと数学での定義が若干異なるからだ。

\begin{itemize}
  \item 日常生活での「AまたはB」：AとBのどちらか一方
  \item 数学での「AまたはB」：AとBの少なくとも一方（両方でもよい）
\end{itemize}

これらの感覚を踏まえて、「かつ」と「または」を数学的に定義していこう。

\subsubsection{数学での定義：論理積}

\begin{definition}{論理積}
  \titlegap
  $p,\, q$を命題とするとき、「$p$かつ$q$」すなわち「$p$と$q$が両方真である」という命題を\hl{論理積}という。\\
  論理積は、論理演算子$\land$を使って、次のように表す。
  \LARGE
  \begin{equation*}
    p \land q
  \end{equation*}
  \normalsize
\end{definition}

論理積は、\keyword{AND}演算と呼ばれることもある。

$p$と$q$の両方が1でない限り、$p \land q$は決して1にはならない。

\begin{tcolorbox}[empty, size=minimal, sidebyside, righthand ratio=0.3]
  論理積の真理値表が言わんとしていることは、次のシンプルな事実である。

  \begin{emphabox}
    \begin{spacebox}
      \begin{center}
        論理積（AND）は、\\
        両方とも1のときのみ、1になる
      \end{center}
    \end{spacebox}
  \end{emphabox}

  \tcblower

  \centering
  \tblcapstar{\bfseries 論理積の真理値表}
  \begin{NiceTabular}[hvlines]{W{c}{2.5em}W{c}{2.5em}W{c}{2.5em}}
    \CodeBefore
    \cellcolor{carnationpink!40}{2-,3-1,4-2}
    \cellcolor{periwinkle!60}{3-2,3-3,4-1,4-3,5-}
    \Body
    $p$ & $q$ & $p \land q$ \\
    1   & 1   & 1           \\
    1   & 0   & 0           \\
    0   & 1   & 0           \\
    0   & 0   & 0           \\
  \end{NiceTabular}
\end{tcolorbox}

\subsubsection{数学での定義：論理和}

\begin{definition}{論理和}
  \titlegap
  $p,\, q$を命題とするとき、「$p$または$q$」すなわち「$p$と$q$の少なくとも一方が真である」という命題を\hl{論理和}という。\\
  論理和は、論理演算子$\lor$を使って、次のように表す。
  \LARGE
  \begin{equation*}
    p \lor q
  \end{equation*}
  \normalsize
\end{definition}

論理和は、\keyword{OR}演算と呼ばれることもある。

$p$と$q$のどちらかだけでも1であれば、$p \lor q$は1になる。

\begin{tcolorbox}[empty, size=minimal, sidebyside, righthand ratio=0.3]
  論理和の真理値表では、次の事実に着目しよう。

  \begin{emphabox}
    \begin{spacebox}
      \begin{center}
        論理和（OR）は、\\
        片方だけでも1であれば、1になる
      \end{center}
    \end{spacebox}
  \end{emphabox}

  \tcblower

  \centering
  \tblcapstar{\bfseries 論理和の真理値表}
  \begin{NiceTabular}[hvlines]{W{c}{2.5em}W{c}{2.5em}W{c}{2.5em}}
    \CodeBefore
    \cellcolor{carnationpink!40}{2-,3-1,3-3,4-2,4-3}
    \cellcolor{periwinkle!60}{3-2,4-1,5-}
    \Body
    $p$ & $q$ & $p \lor q$ \\
    1   & 1   & 1          \\
    1   & 0   & 1          \\
    0   & 1   & 1          \\
    0   & 0   & 0          \\
  \end{NiceTabular}
\end{tcolorbox}

\section{同値な命題と同値変形}

論理演算子を組み合わせることで、元の命題と「同じ意味」の命題を作り出すこともできる。

\br

つまり、意味を変えずに、表現を変えることができるということだ。

数の計算でうまく式変形をすれば計算が簡単になるように、命題の論理式を意味を変えないように変形することで、より簡単な議論に持ち込むことも可能になる。

\br

「同じ意味」を表す言葉を定義した上で、「同じ意味」になる論理演算子の組み合わせのパターンをいくつか見ていこう。

\subsection{構成命題と同値}

まず、「論理演算子を使って作られた命題」に名前をつけておく。

\begin{definition}{構成命題}
  命題と論理演算子を組み合わせてできる命題を\hl{構成命題}という。
\end{definition}

「論理演算子を使って作られた命題」が、元の命題とまったく同じ真理値のパターンを持つとき、元の命題と新しい命題は\keyword{同値}であるという。

\begin{definition}{同値}
  \titlegap
  2つの構成命題$p$と$q$の真理値がすべて一致する（真理値表の値がすべて等しい）とき、この2つの命題は\hl{同値}であるといい、
  \LARGE
  \begin{equation*}
    p \equiv q
  \end{equation*}
  \normalsize
  と表す。
\end{definition}

同値の定義が「2つの\keyword{命題}$p$と$q$」ではなく、「2つの\keyword{構成命題}$p$と$q$」に対する記述になっていることに注意しよう。

\br

たとえば、次の2つの命題は同じ真理値を持つ（どちらも正しい）が、まったく関係のない文章であり、とても「同じ意味」の文章とはいえないはずだ。

\begin{itemize}
  \item 普通自動車免許は18歳以上で取得可能である
  \item 1年は12ヶ月である
\end{itemize}

同値とは、あくまでも論理演算子を使って加工した結果として、同じ真理値を持つ命題が得られたという状況を指す。
まったく異なる命題どうしを結びつけるものではなく、論理演算子の関係（効果が同じかどうか）を示すものだと捉えておこう。

\subsection{論理式の法則}

同値な命題が得られる論理演算子の組み合わせのパターンは、法則としていくつか知られている。

\subsubsection{反射法則（二重否定）}

まずは1つ目の例として、「否定を否定すると元に戻る」という法則を考えてみよう。

次の3つの文章において、1つ目の文章と3つ目の文章は、どちらも同じく「勉強した」という主張になっている。

\begin{enumerate}
  \item 試験勉強はした
  \item 試験勉強はしていない（否定）
  \item 試験勉強はしていないわけじゃない（二重否定）
\end{enumerate}

3つ目の文章のような、「否定の否定」を\keyword{二重否定}と呼び、次の法則が成り立つ。

\begin{theorem}{反射法則}
  \titlegap
  命題$p$に対して、$p$とその\hl{二重否定}$\neg(\neg p)$は同値となる。
  \LARGE
  \begin{equation*}
    p \iff \neg(\neg p)
  \end{equation*}
\end{theorem}

\begin{tcolorbox}[empty, size=minimal, sidebyside, righthand ratio=0.3]
  実際に、真理値表を使って確かめてみよう。

  「否定」とは0と1を反転させる操作であるから、2回反転させると元に戻る様子が明らかである。

  \tcblower

  \centering
  \begin{NiceTabular}[hvlines]{W{c}{2.5em}W{c}{2.5em}W{c}{2.5em}}
    \CodeBefore
    \cellcolor{carnationpink!40}{2-1,2-3,3-2}
    \cellcolor{periwinkle!60}{3-1,2-2,3-3}
    \Body
    $p$ & $\neg p$ & $\neg(\neg p)$ \\
    1   & 0        & 1              \\
    0   & 1        & 0              \\
  \end{NiceTabular}
  \tblcapstar{\bfseries 二重否定の真理値表}
\end{tcolorbox}

\subsubsection{結合法則}

次の結合法則は、「どこから計算しても同値」という意味で、有用な性質といえる。

\begin{theorem}{結合法則（命題論理）}
  \Large
  \begin{align*}
    (p \land q) \land r & \equiv p \land (q \land r) \\
    (p \lor q) \lor r   & \equiv p \lor (q \lor r)
  \end{align*}
\end{theorem}

「かつ」だけで結ばれた条件（命題）は、考える順序に関わらず、結局最終的に「全部の条件が満たされていること」が必要になる。

$p \land q$を先に計算しても、$q \land r$を先に計算しても、結局すべて1の場合しか残らないことを真理値表から読み取ろう。

\begin{tcolorbox}[empty, size=minimal, sidebyside, righthand ratio=0.6]
  $p$と$q$と$r$が「かつ」だけで結ばれている以上、すべての真理値が1である場合にしか、$p \land q \land r$は決して1にならない。

  \tcblower

  \tblcapstar{\bfseries 論理積「かつ」の結合法則の証明}
  \scalebox{0.85}{
    \centering
    \begin{NiceTabular}[hvlines]{W{c}{1.5em}W{c}{1.5em}W{c}{1.5em}W{c}{2.5em}W{c}{2.5em}W{c}{4.5em}W{c}{4.5em}}
      \CodeBefore
      \cellcolor{carnationpink!40}{
        2-,3-1,3-2,3-4,3-5,4-1,4-3,4-5,5-1,6-2,6-3,6-5,7-2,7-5,8-3,8-5
      }
      \cellcolor{periwinkle!60}{
        3-3,3-6,3-7,4-2,4-4,4-6,4-7,5-2,5-3,5-4,5-5,5-6,5-7,6-1,6-4,
        6-6,6-7,7-1,7-3,7-4,7-6,7-7,8-1,8-2,8-4,8-6,8-7,9-
      }
      \Body
      $p$ & $q$ & $r$ & $p \land q$ & $q \land r$ & $(p \land q) \land r$ & $p \land (q \land r)$ \\
      1   & 1   & 1   & 1           & 1           & 1                     & 1                     \\
      1   & 1   & 0   & 1           & 0           & 0                     & 0                     \\
      1   & 0   & 1   & 0           & 0           & 0                     & 0                     \\
      1   & 0   & 0   & 0           & 0           & 0                     & 0                     \\
      0   & 1   & 1   & 0           & 1           & 0                     & 0                     \\
      0   & 1   & 0   & 0           & 1           & 0                     & 0                     \\
      0   & 0   & 1   & 0           & 1           & 0                     & 0                     \\
      0   & 0   & 0   & 0           & 0           & 0                     & 0                     \\
    \end{NiceTabular}
  }
\end{tcolorbox}

「または」だけで結ばれた条件（命題）も、考える順序に関わらず「どれか1つでも満たされていればよい」という意味に帰着する。

\begin{tcolorbox}[empty, size=minimal, sidebyside, righthand ratio=0.6]
  $p$と$q$と$r$が「または」だけで結ばれている場合、結局いずれかの真理値が1であれば、$p \lor q \lor r$は1になる。

  \tcblower

  \tblcapstar{\bfseries 論理和「または」の結合法則の証明}
  \scalebox{0.85}{
    \centering
    \begin{NiceTabular}[hvlines]{W{c}{1.5em}W{c}{1.5em}W{c}{1.5em}W{c}{2.5em}W{c}{2.5em}W{c}{4.5em}W{c}{4.5em}}
      \CodeBefore
      \cellcolor{carnationpink!40}{
        2-,3-1,3-2,3-4,3-5,3-6,3-7,4-1,4-3,4-4,4-5,4-6,4-7,5-1,5-4,5-6,5-7,6-2,6-3,6-4,6-5,6-6,6-7,7-2,7-4,7-5,7-6,7-7,8-3,8-5,8-6,8-7
      }
      \cellcolor{periwinkle!60}{
        3-3,4-2,5-2,5-3,5-5,6-1,7-1,7-3,8-1,8-2,8-4,9-
      }
      \Body
      $p$ & $q$ & $r$ & $p \lor q$ & $q \lor r$ & $(p \lor q) \lor r$ & $p \lor (q \lor r)$ \\
      1   & 1   & 1   & 1          & 1          & 1                   & 1                   \\
      1   & 1   & 0   & 1          & 1          & 1                   & 1                   \\
      1   & 0   & 1   & 1          & 1          & 1                   & 1                   \\
      1   & 0   & 0   & 1          & 0          & 1                   & 1                   \\
      0   & 1   & 1   & 1          & 1          & 1                   & 1                   \\
      0   & 1   & 0   & 1          & 1          & 1                   & 1                   \\
      0   & 0   & 1   & 0          & 1          & 1                   & 1                   \\
      0   & 0   & 0   & 0          & 0          & 0                   & 0                   \\
    \end{NiceTabular}
  }
\end{tcolorbox}

\subsubsection{交換法則}

交換法則は、$p$と$q$の「順序を交換しても同値」であることを示している。

\begin{theorem}{交換法則}
  \large
  \begin{align*}
    p \land q & \equiv q \land p \\
    p \lor q  & \equiv q \lor p
  \end{align*}
\end{theorem}

頭の中で真理値表を書いてみよう。

「かつ」は両方が1なら1、「または」は少なくとも片方が1なら1と考えると、重要なのは組み合わせであって、そこに順序は関係していないことがわかる。

\subsubsection{冪等法則}

\begin{mindflow}
  \begin{itemize}
    \item 何回繰り返しても同値
  \end{itemize}
\end{mindflow}

\subsubsection{分配法則}

\begin{mindflow}
  \begin{itemize}
    \item 分配しても同値
  \end{itemize}
\end{mindflow}

\subsubsection{吸収法則}

\subsubsection{ド・モルガンの法則}

\subsection{同値変形}

\begin{mindflow}
  \begin{itemize}
    \item 恒真命題と恒偽命題
    \item 矛盾法則と排中法則
  \end{itemize}
\end{mindflow}

\end{document}
